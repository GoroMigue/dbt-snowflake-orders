version: 2

sources:
  - name: delivery
    description: clone of swnowflake sample data
    database: raw  
    schema: delivery 
    tables:
      - name: orders
        description: raw orders data
        columns:
          - name: o_orderkey
            description: primary key for orders data
            tests:
              - unique
              - not_null
      - name: lineitem
        description: raw lineitem data
        columns:
          - name: l_orderkey
            description: primary key for lineitems data
          - name: l_linenumber
            description: primary key for lineitems data
        tests: 
          - dbt_utils.unique_combination_of_columns:
              combination_of_columns:
                - l_orderkey
                - l_linenumber
      - name: customer
        description: raw customer data
        columns:
          - name: c_custkey
            description: primary key for customers data
            tests:
              - unique
              - not_null
      - name: supplier
        description: raw supplier data
        columns:
          - name: s_suppkey
            description: primary key for suppliers data
            tests:
              - unique
              - not_null
      - name: part
        description: raw parts data
        columns:
          - name: p_partkey
            description: primary key for parts data
            tests:
              - unique
              - not_null        
      - name: region
        description: raw regions data
        columns:
          - name: r_regionkey
            description: primary key for regions data
            tests:
              - unique
              - not_null
      - name: nation
        description: raw nations data
        columns:
          - name: n_nationkey
            description: primary key for nations data
            tests:
              - unique
              - not_null
      - name: shop
        description: raw shop data
        columns:
          - name: shopkey
            description: primary key for shops data
            tests:
              - unique
              - not_null
      - name: sales_event
        description: raw sales_event data
        columns:
          - name: event_id
            description: primary key for events data
            tests:
              - unique
              - not_null

